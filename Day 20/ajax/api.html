<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>



</head>
<body>

  <h1 class="text-center text-danger p-3 mb-3">ToDo List</h1>

  <div class="row">
    <div class="col-4"></div>
    <div class="col-4">
      <center>

        <table class="border border-primary border-3">
          <thead>
            <tr>
              <th class="border border-primary border-3 px-4">UserId</th>
              <th class="border border-primary border-3  px-4" >ID</th>
              <th class="border border-primary border-3  px-4">Title</th>
              <th class=" px-4">Completed</th>
  
            </tr>
          </thead>
 
          <tbody id="result">

          </tbody>

        </table>



      </center>



    </div>
    <div class="col-4"></div>
  </div>




  <script>

    // AJAX API CALL 

    //1. Create a new XMLHTTPRequest Object 

    const response = new XMLHttpRequest() //instance object

    // 2.Connect to  API Call

    response.open('get','https://jsonplaceholder.typicode.com/todos');

    // 3.send

    response.send()

    // 4. Set OnreadystateChange

    response.onreadystatechange=()=>{
      if(response.readyState==4){
        if(response.status>199 && response.status<300){
          console.log(response.responseText);

          let todoArray = JSON.parse(response.responseText);

          console.log(todoArray);

          displayData(todoArray);         

        }
        else{
          alert("Can't Find")
        }
      }
    }

    // 5.Display array of data into the browser

    function displayData(todoArray){
      for(let todo of todoArray){
        htmlData=`
        <tr>
          <td class="border border-primary border-3 px-4">${todo.userId} </td>
          <td class="border border-primary border-3 px-4">${todo.id} </td>
          <td class="border border-primary border-3 px-4">${todo.title} </td>
          <td class="border border-primary border-3 px-4">${todo.completed} </td>

        </tr>
        `

        result.innerHTML += htmlData;
      }
    }






  </script>
  
</body>
</html>